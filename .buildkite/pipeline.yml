steps:
  - label: eslint
    command: "./scripts/eslint.sh"
    agents:
      queue: ipp-regional-web:ci
      env: development
      market: rumah123

  - wait
  - label: unit test
    command: "./scripts/unit_test.sh"
    agents:
      queue: ipp-regional-web:ci
      env: development
      market: rumah123
  - wait
  - label: integration test
    command: "./scripts/integration_test.sh"
    agents:
      queue: ipp-regional-web:ci
      env: development
      market: rumah123

  - wait
  - label: " :package:"
    command: "./scripts/package.sh"
    env:
      ENV: stag
      REGION: ap-southeast-1
    agents:
      queue: ipp-regional-web:ci
      env: development
      market: rumah123

  - wait
  - label: deploy to dev
    command: "./scripts/deploy.sh"
    agents:
      queue: ipp-regional-web:ci
      env: development
      market: rumah123

  - block: deploy to staging
  - label: ':rocket:'
    command: "./scripts/deploy.sh"
    agents:
      queue: ipp-regional-web:ci
      env: staging
      market: rumah123

  - block: deploy to production
  - label: ':rocket:'
    command: "./scripts/deploy.sh"
    agents:
      queue: ipp-regional-web:ci
      env: production
      market: rumah123
